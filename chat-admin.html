<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Admin - KYC P2P</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="/css/styles.css" type="text/css">
    <link rel="stylesheet" href="/css/chat.css" type="text/css">
    <link rel="stylesheet" href="/css/admin-chat.css" type="text/css">
</head>
<body class="admin-chat">
    <div class="chat-container">
        <!-- Lista de chats -->
        <div class="chats-list">
            <div class="chats-header">
                <h2>Conversaciones con apelaciones</h2>
            </div>
            <div id="chatsList">
                <div class="loading">
                    <i class='bx bx-loader-alt bx-spin'></i>
                    <p>Cargando apelaciones...</p>
                </div>
            </div>
        </div>

        <!-- Área de chat -->
        <div class="chat-area">
            <!-- Encabezado del chat -->
            <div class="chat-header">
                <div class="chat-header-info">
                    <button class="mobile-menu-toggle" onclick="toggleChatView()">
                        <i class='bx bx-menu'></i>
                    </button>
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" alt="Admin" class="user-avatar">
                    <div class="chat-header-text">
                        <h3 id="chatTitle">Select a chat</h3>
                        <p id="campaignInfo">Choose a campaign to start chatting</p>
                    </div>
                </div>
                <div class="chat-header-actions" id="headerActions">
                    <!-- Actions will be added dynamically when a chat is selected -->
                </div>
            </div>

            <!-- Mensajes -->
            <div class="messages-container" id="messagesContainer">
                <!-- Los mensajes se agregarán aquí -->
            </div>

            <!-- Formulario de mensaje -->
            <form id="messageForm" class="message-form">
                <div class="message-input-container">
                    <input type="text" id="messageInput" placeholder="Escribe un mensaje..." autocomplete="off">
                    <label for="imageInput" class="image-upload-label">
                        <i class='bx bx-image-add'></i>
                    </label>
                    <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    <button type="submit">
                        <i class='bx bx-send'></i>
                    </button>
                </div>
            </form>
        </div>

        <!-- Panel de información -->
        <div class="info-panel">
            <div class="info-header">
                <h3>Información de la apelación</h3>
            </div>
            <div class="info-content" id="appealInfo">
                <!-- La información de la apelación se mostrará aquí -->
            </div>
            <div class="appeal-actions" id="appealActions">
                <!-- Botones de acción para la apelación -->
            </div>
        </div>
    </div>

    <!-- Scripts de Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="js/config.js"></script>
    <script src="js/chat-admin.js"></script>
</body>
</html>
