<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaign Requests - KYC P2P</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body class="dark-theme">
    <!-- Navbar minimalista -->
    <nav class="navbar">
        <div class="navbar-left">
            <button class="mobile-menu-toggle" onclick="toggleSidebar()">
                <i class='bx bx-menu'></i>
            </button>
            <a href="#" onclick="redirectTo('dashboard.html')" class="nav-link"><i class='bx bx-arrow-back'></i></a>
            <span>Campaign Requests</span>
        </div>
        <div class="navbar-center">
            <h1 class="page-title">Campaign Details</h1>
        </div>
        <div class="navbar-right">
            <div class="user-menu">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Profile" class="avatar">
                <button id="logoutBtn" class="logout-btn minimal">
                    <i class='bx bx-log-out'></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Overlay para sidebar móvil -->
    <div class="sidebar-overlay" onclick="closeSidebar()"></div>

    <!-- Layout principal con sidebar -->
    <div class="campaign-layout">
        <!-- Detalles de la campaña -->
        <div class="campaign-details" id="campaignInfo">
            <div class="campaign-header">
                <h2 class="campaign-name">Loading...</h2>
                <div class="campaign-stats">
                    <div class="stat-badge">
                        <i class='bx bx-check-circle'></i>
                        <span class="stat-value">0/7</span>
                        <span class="stat-label">verificaciones</span>
                    </div>
                    <div class="stat-badge">
                        <i class='bx bx-dollar'></i>
                        <span class="stat-value">5 USDT</span>
                        <span class="stat-label">por verificación</span>
                    </div>
                    <div class="stat-badge">
                        <i class='bx bx-time'></i>
                        <span class="stat-value">Creada el</span>
                        <span class="stat-label">19/5/2025</span>
                    </div>
                </div>
                <p class="campaign-description">Loading description...</p>
            </div>

            <!-- Sección para unirse -->
            <div class="join-section">
                <h3>Unirse a esta campaña</h3>
                <p>Al unirte, estarás de acuerdo en participar en las verificaciones de esta campaña.</p>
                <button class="join-btn">
                    <i class='bx bx-plus'></i>
                    Enviar solicitud
                </button>
        </div>

        <!-- Requests Section -->
        <div class="requests-section">
            <div class="section-header">
                <h2>Requests</h2>
                <div class="filter-tabs">
                    <button class="tab-btn active" data-status="all">All</button>
                    <button class="tab-btn" data-status="pending">Pending</button>
                    <button class="tab-btn" data-status="approved">Approved</button>
                </div>
            </div>
            <div id="requestsList" class="requests-list">
                <!-- Requests will be loaded here -->
                <div class="loading-state">
                    <i class='bx bx-loader-alt'></i>
                    <p>Loading requests...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/campaign-requests.js"></script>
</body>
</html>
